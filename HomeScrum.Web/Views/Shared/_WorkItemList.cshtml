@model IEnumerable<HomeScrum.Web.Models.WorkItems.WorkItemViewModel>

<table>
    <tr>
        <th>
            @Html.DisplayNameFor( model => model.WorkItemTypeName )
        </th>
        <th>
            @Html.DisplayNameFor( model => model.Name )
        </th>
        <th>
            @Html.DisplayNameFor( model => model.StatusName )
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        var rowClass = item.IsComplete ? "CompletedItemRow" : "NotCompletedItemRow";
        
        <tr id="@Html.AttributeEncode( item.Id.ToString() )" class="@rowClass">
            <td>
                @Html.DisplayFor( modelItem => item.WorkItemTypeName )
            </td>
            <td>
                @Html.DisplayFor( modelItem => item.Name )
            </td>
            <td>
                @Html.DisplayFor( modelItem => item.StatusName )
            </td>
            <td>
                @Html.ActionLink( "Edit", "Edit", new { id = item.Id } ) |
            @Html.ActionLink( "Details", "Details", new { id = item.Id } )
            </td>
        </tr>
    }
</table>

<div id="ActionButtonArea">
    @Html.ActionLink( "Create New", "Create", null, new { id = "CreateNewItem" } )
    <input type="checkbox" id="ShowCompletedToggle" /><label for="ShowCompletedToggle">Show/Hide</label>
</div>

<script>
    $(function () {
        $("#CreateNewItem").button();
        setupShowHideButton("@HttpContext.Current.Request.RequestContext.RouteData.Values["controller"].ToString()", $("#ShowCompletedToggle"), "Completed");
    });
</script>
