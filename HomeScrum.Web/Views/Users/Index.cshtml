@model IEnumerable<HomeScrum.Web.Models.Admin.UserViewModel>

@{
   ViewBag.Title = "Users";
}

<div class="modal fade" id="modalEditor" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
</div>

<h2>@ViewBag.Title</h2>

<table class="dataTableList table table-striped table-bordered">
   <thead class="ListHead">
      <tr>
         <th>
            @Html.DisplayNameFor( model => model.UserName )
         </th>
         <th>
            @Html.DisplayNameFor( model => model.FirstName )
         </th>
         <th>
            @Html.DisplayNameFor( model => model.MiddleName )
         </th>
         <th>
            @Html.DisplayNameFor( model => model.LastName )
         </th>
      </tr>
   </thead>

   <tbody class="ListBody">
      @foreach (var item in Model)
      {
         <tr>
            <td>
               @Html.ActionLink( item.UserName, "Edit",
                  new { id = item.Id }, new { data_target = "#modalEditor", data_toggle = "modal" } )
            </td>
            <td>
               @Html.DisplayFor( modelItem => item.FirstName )
            </td>
            <td>
               @Html.DisplayFor( modelItem => item.MiddleName )
            </td>
            <td>
               @Html.DisplayFor( modelItem => item.LastName )
            </td>
         </tr>
      }
   </tbody>
</table>

<div class="ActionButtonArea">
   @Html.ActionLink( "Create New", "Create", null,
         new { @class = "btn btn-primary", data_target = "#modalEditor", data_toggle = "modal" } )
</div>

<script type="text/javascript">
   $(document).ready(function () {
      $.ajaxSetup({ cache: false });

      $('.modal').on('hidden.bs.modal', function () {
         $(this).removeData('bs.modal');
      });
   });
</script>
